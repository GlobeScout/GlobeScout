<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
</head>
<body>
// ðŸ” LOGIN-FORMULAR
const loginForm    = document.getElementById('login-form')
const loginMessage = document.getElementById('login-message')

loginForm.addEventListener('submit', async (e) => {
  e.preventDefault()

  const email    = document.getElementById('login-email').value
  const password = document.getElementById('login-password').value

  loginMessage.textContent = 'â³ Anmeldung lÃ¤uft...'
  loginMessage.style.color = 'gray'

  const { data, error } = await supabase.auth.signInWithPassword({ email, password })

  if (error) {
    loginMessage.textContent = 'âŒ Fehler: ' + error.message
    loginMessage.style.color = 'red'
    return
  }

  // âœ… Login erfolgreich
  loginMessage.textContent = 'âœ… Login erfolgreich!'
  loginMessage.style.color = 'green'
  console.log('ðŸ‘¤ Angemeldet als:', data.user)

  /* ðŸ”€ Weiterleitung:
     Warte kurz (500â€¯ms), damit der Nutzer die Erfolgsmeldung sieht,
     und lade anschlieÃŸend eine neue, leere Seite.
     Ersetze "dashboard.html" durch den Pfad deiner Wahl. */
  setTimeout(() => {
    window.location.href = 'dashboard.html'
    // Alternativen:
    // window.location.replace('dashboard.html')  // ohne Historyâ€‘Eintrag
    // window.open('', '_self')  // komplett leere about:blankâ€‘Seite
  }, 500)
})
 
</body>
</html>
